--- zgv-5.4/src/readbmp.c.orig	Tue May 29 03:21:15 2001
+++ zgv-5.4/src/readbmp.c	Fri Sep 28 21:59:54 2001
@@ -304,10 +304,8 @@
 		}
 	      else
 		{
-		  dptr = hptr = malloc (read[1] >> 1);
-		  fread (dptr, 1, read[1] >> 1, in);
-		  if (read[1] % 4 > 1)
-		    dummy = fgetc (in);
+		  dptr = hptr = malloc (((read[1]+3)>>2) << 1);
+		  fread (dptr, 1, ((read[1]+3)>>2) << 1, in);
 		  i = 0;
 		  do
 		    {
